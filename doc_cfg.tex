% include packages

\usepackage{amsfonts}				% classic package for additional features in mathematical typeseting
\usepackage{amsmath}				% classic package for additional features in mathematical typeseting
\usepackage{amssymb}				% classic package for additional features in mathematical typeseting
\usepackage{mathtools}				% extends amsmath package with bug fixes
\usepackage{dsfont}

\usepackage{fontspec}				% allow XeTeX or LuaTeX to load OpenType fonts
\usepackage{libertinus}				% font, you can choose lmodern and others
\newfontfamily\Consolas{Consolas}	% typical Consolas font, used for the code blocks

\usepackage[english]{babel}			% multilingual support
\usepackage[english]{fancyref}		% fancy cross-references

\usepackage{tikz}					% to create 2D drawings
\usepackage{tikz-3dplot}			% to create 3D drawings
\usepackage{pgfplots}				% based on TikZ, powerful visualization tool for scientific/technical graphics
\usetikzlibrary{matrix}

%\usepackage[utf8]{inputenc}
%\usepackage[T1]{fontenc}

\usepackage[onehalfspacing]{setspace}	% line spacing
\usepackage{enumerate}				% gives "enumerate" environment an optional argument for various print styles
\usepackage{enumitem}				% to easily customize enumeration/itemize environments
\usepackage{listings}				% for code paragraphs (lst)
\usepackage[pict2e]{struktex}		% for Nassi-Shneiderman diagrams, pict2e for arbitrary slopes of lines
\usepackage{graphics}				% for various 'graphics' functions (inclusion of 'graphics' files, rotation, scaling)
\usepackage{subcaption}				% for sub captions like (a) or "2.1"
\usepackage{titleps}				% provides tools for setting of page styles
\usepackage{listings}				% source code printer, uses environment name "lstlisting" instead of "listing"
\usepackage{color}					% support for colored text
\usepackage{colortbl}				% support for colored panels or cells of tables
\usepackage[open, openlevel=2]{bookmark}	% modern management for bookmarks
\usepackage{fancyhdr}				% to allow customization of page headers and footers
\usepackage{hyperref}				% extends functionality of cross-referencing commands (turn text to hyperlinks)
\usepackage[all]{hypcap}			% solves problem with hyperref which links to floats below the caption
\usepackage{pdfpages}				% to insert external PDF pages
\usepackage{slashbox}				% functionality to add slashes to cells in tables
\usepackage{changepage}				% for example for changing page margins on odd pages
\usepackage{lipsum}					% lipsum. it's dummy text


% set specific settings
\setlength{\parindent}{0in}			% remove indentation when starting a new paragraph
\setcounter{secnumdepth}{5} 		% numbers for sub paragraphs for depth 5 (default is 3)
\setcounter{tocdepth}{5}			% number of sub paragraphs in table of contents
% ZÃ¤hlervariable
\newcounter{myenumi}				% nimmt aktuellen Wert von enumi auf

% define colors
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{lightgray}{rgb}{0.83, 0.83, 0.83}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\definecolor{limegreen}{rgb}{0.2, 0.8, 0.2}
\definecolor{deepblue}{rgb}{0,0,0.8}
\definecolor{darkblue}{rgb}{0.0,0.0,0.3}
\definecolor{deepred}{rgb}{0.9,0,0}
\definecolor{darkorange}{rgb}{1.0, 0.55, 0.0}
\definecolor{lava}{rgb}{0.81, 0.06, 0.13}

\definecolor{main-color}{rgb}{0.6627, 0.7176, 0.7764}
\definecolor{back-color}{rgb}{0.1686, 0.1686, 0.1686}
\definecolor{string-color}{rgb}{0.3333, 0.5254, 0.345}
\definecolor{key-color}{rgb}{0.8, 0.47, 0.196}

% misc (new commands, lstlisting styles, etc.)
\hypersetup{linkbordercolor=lava}
\hypersetup{citebordercolor=lava}

% settings for lstlistings (used for code blocks)
\lstset
{
	language=Python,
	frame=single, % frame=tb if the lines should only be at the top and bottom
	tabsize=4,
	breaklines=true,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=fixed,
	basicstyle=\small\Consolas, % \ttfamily for the usual style
	numbers=left,
	numberstyle=\small\Consolas\color{gray},
	stringstyle=\color{deepgreen},
	commentstyle=\color{gray},
	morecomment=[f]{\#},
	breakatwhitespace=true,
	keywordstyle=\color{deepblue},
	keywordstyle=[2]\color{deepblue},
	keywordstyle=[3]\color{deepgreen},
}

\lstdefinestyle{dark}
{
	basicstyle=\small\Consolas\color{main-color}, % \ttfamily for the usual style
	backgroundcolor=\color{back-color},
	stringstyle=\color{string-color},
	commentstyle=\color{gray},
	keywordstyle=\color{key-color},
	keywordstyle=[2]\color{key-color},
	keywordstyle=[3]\color{dkgreen},
}

\renewcommand{\lstlistingname}{Python Code}
\renewcommand{\lstlistlistingname}{\lstlistingname}
\renewcommand{\labelitemi}{\scriptsize$\blacksquare$}

%\newcommand{\bib}
%{
%	\bibliographystyle{plain}
%	\bibliography{cites}
%	\nocite{*}
%}

% remove section names in header of toc
\newpagestyle{fancier-toc}
{
	\sethead
	{}{}{}
	\setheadrule{.4pt}
	
	\setfoot
	{}{\thepage}{}
}

% fancy header for sections
\newpagestyle{fancier}
{
	\sethead
	{\toptitlemarks \textit{\thesection} \quad \textit{\sectiontitle}}
	{}
	{\bottitlemarks \textit{\thesection} \quad \textit{\sectiontitle}}
	\setheadrule{.4pt}
	
	\setfoot
	{}{\thepage}{}
}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclareSymbolFont{italics}{\encodingdefault}{\rmdefault}{m}{it}
\DeclareSymbolFontAlphabet{\mathit}{italics}

% reposition bar and tilde above symbols in math environment
\makeatletter
\count@=`a \advance\count@\m@ne
\@whilenum{\count@<`z}\do{%
	\advance\count@\@ne
	\begingroup\lccode`A=\count@
	\lowercase{\endgroup
		\DeclareMathSymbol{A}{\mathalpha}{italics}{`A}%
	}%
}
\count@=`A \advance\count@\m@ne
\@whilenum{\count@<`Z}\do{%
	\advance\count@\@ne
	\begingroup\lccode`A=\count@
	\lowercase{\endgroup
		\DeclareMathSymbol{A}{\mathalpha}{italics}{`A}%
	}%
}
\makeatother

\newcommand{\mybar}[2][3]{{}\mkern#1mu\overline{\mkern-#1mu#2}}
\newcommand{\tild}[2][3]{{}\mkern#1mu\tilde{\mkern-#1mu#2}}
\renewcommand{\bar}{\mybar}
\renewcommand{\labelenumii}{\theenumii}
\renewcommand{\theenumii}{\theenumi.\arabic{enumii}.}